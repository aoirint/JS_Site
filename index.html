<!DOCTYPE html>
<meta charset="utf-8">
<title>Pager Test</title>

<link rel="stylesheet" href="./style.css">

<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="vendor/queryutils.js"></script>
<script src="vendor/marked.js"></script>
<script src="vendor/jpager.js"></script>
<script>
	queries = getQueries();
	
	id = ('id' in queries) ? queries['id'] : 'index';
</script>

<section id="categories"></section>
<section id="main"></section>

<script>

	pullPage('data/' + id, function(data)
	{
		var main = document.getElementById('main');
		
		if ('title' in data['metas']) document.title = data['metas']['title'] + ' | ' + document.title;

		main.innerHTML = data['body'].innerHTML;
		
		return main;
	});
	
	pullPage('data/categories', function(data, callback)
	{
		var categories = document.getElementById('categories');
		
		categories.innerHTML = data['body'].innerHTML;

		return categories;
	});
	
</script>
